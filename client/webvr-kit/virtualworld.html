<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>bryan VRRRR</title>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    </head>
    <body>
        <script type="text/javascript" src="./build/vr.dev.js" charset="utf-8"></script>
        <script type="text/javascript">



        // VR.floor({
        //     radius: 100,
        // });
        var scaledObject;
        var testOrb;

        http://i.imgur.com/aWwt4z5.jpg
        VR.orb({
            src: './examples/assets/sphere1.jpg',
            stereo: 'vertical' 
        }).moveTo(0,11,-10);


        VR.orb({
            src: './examples/assets/sphere2.jpg',
        }).moveTo(0,11,10)

        // VR.orb({
        //     src: 'http://i.imgur.com/2vtPPlI.jpg',
        // }).moveTo(10,11,0);


        // VR.orb({
        //     src: 'http://i.imgur.com/geuepdl.jpg',
        // }).moveTo(-10,11,0);


        // var mirror = VR.objmirror();


        // VR.orb('./examples/assets/snowy.jpg')
        //     .moveTo(-8,11,-8);            

        // var box = VR.box({
        //     color: 0x1111DD,
        //     x: -20,
        //     y: 10,
        //     z: -20,
        // });
        // box.setScale(10);

        // var video = VR.video([
        //     './examples/assets/bigbuckbunny.mp4',
        //     './examples/assets/bigbuckbunny.webm'
        // ])
        //     .moveTo(15, 10, -10)
        //     .setScale(10)
        //     .rotateY(Math.PI / 6)
        //     .play();

        // VR.panorama({
        //     src: './examples/assets/gooseberry_benchmark_panorama.jpg',
        //     stereo: 'vertical'
        // }).moveTo(0,11,0)

        VR.on('lookat', function(object){  // this is emiited from vr.js  raycaster section            
            // if new lookedat orb is not last scaledObject, then shrink scaledObject, scale up new orb
            if (scaledObject !== object && scaledObject !== undefined && object.name === "panorama"){
                panoramaScaleDown(scaledObject, object); // scale down previous object
            }

            if (object.scaledup === undefined && object.name === "panorama"){
                panoramaScaleUp(object);
                scaledObject = object;
            }
            
        })

        VR.animate(function (delta, time) {
            // box.rotateY(delta * Math.PI);

        });

        function removeObject (object){
           var index = object.parent.children.indexOf(object.object);
           VR.scene.children.splice(index, 1); // delete op 
        }

        function panoramaScaleUp (object){
            object.setScale(1000);
            object.scaledup = true;
            console.log("Scaling up")
        }

        function panoramaScaleDown (oldObject, newObject){
            oldObject.setScale(1);
            oldObject.scaledup = undefined;
            console.log("Scaling down")
        }


        </script>
    </body>
</html>